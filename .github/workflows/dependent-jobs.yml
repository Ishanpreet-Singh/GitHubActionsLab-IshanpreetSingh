---
name: dependent-jobs (build -> test -> deploy)

on:
  push:
    branches: [ main ]

jobs:
  build:
    name: Build job
    runs-on: ubuntu-latest
    steps:
    - name: Start build
      run: echo "Building application..."
    - name: Simulate build
      run: |
        echo "Compiling..."
        sleep 3
        echo "Build complete."

  test:
    name: Test job
    needs: [build]
    runs-on: ubuntu-latest
    steps:
    - name: Start testing
      run: echo "Running tests..."
    - name: Simulate tests
      run: |
        echo "Executing tests..."
        sleep 3
        echo "All tests passed."

  deploy:
    name: Deploy job
    needs: [test]
    runs-on: ubuntu-latest
    steps:
    - name: Start deploy
      run: echo "Deploying application..."
    - name: Simulate deployment
      run: |
        echo "Deploying..."
        sleep 3
        echo "Deployment successful."
